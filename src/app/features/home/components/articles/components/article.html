<article class="card bg-base-100 shadow-xl">
    <figure class="h-48 overflow-hidden">
        <img
            [alt]="_article().title"
            [src]="_article().thumbnail"
            class="size-full object-cover"
        />
    </figure>

    <section class="p-4">
        <div class="flex items-start justify-between gap-2 mb-2">
            <h2 class="card-title line-clamp-1 flex-1">
                {{ _article().title }}
            </h2>
            <span class="badge badge-ghost gap-1 shrink-0">
                <svg class="h-3 w-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                </svg>
                {{ _article().content | readingTime }} min
            </span>
        </div>

        <p class="text-base-content line-clamp-3">
            {{ _article().content }}
        </p>

        <footer class="mt-4">
            <div class="flex gap-2 items-center">
                <figure class="avatar rounded-full size-8">
                    <img [alt]="_article().author?.fullName" [src]="_article().author?.avatar">
                </figure>
                <address class="flex-1 not-italic">
                    <p class="text-sm font-medium">{{ _article().author?.fullName }}</p>
                    <time [dateTime]="_article().createdAt" class="text-xs text-base-content">
                        {{ _article().createdAt | date: 'dd MMM yyyy' }}
                    </time>
                </address>
            </div>
            <div class="divider"></div>
            <nav class="flex flex-col mt-4 gap-4 flex-wrap">
                <a
                    [routerLink]="'/articles/' + _article().id"
                    class="btn btn-primary"
                >
                    Lire l'article
                    <lucide-icon [img]="ArrowRight" size="16"/>
                </a>
                <button
                    (click)="goToSectionComments(_article().id)"
                    class="btn btn-primary btn-outline"
                >
                    Voir les commentaires
                </button>
            </nav>
        </footer>
    </section>
</article>

